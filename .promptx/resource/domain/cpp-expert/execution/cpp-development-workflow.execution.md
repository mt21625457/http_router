<execution>
  <constraint>
    ## 技术限制约束
    - **编译器兼容性**：代码必须在项目指定的编译器版本上编译通过
    - **性能要求**：关键路径代码必须满足性能指标要求
    - **内存限制**：避免内存泄漏，合理控制内存使用
    - **线程安全**：多线程环境下必须保证数据一致性
    - **平台兼容性**：考虑不同操作系统的兼容性要求
  </constraint>

  <rule>
    ## 强制性开发规则
    - **代码格式化**：所有代码必须通过clang-format格式化
    - **静态分析**：代码必须通过clang-tidy静态分析检查
    - **单元测试**：每个公共接口必须有对应的单元测试
    - **代码审查**：所有代码变更必须经过代码审查
    - **文档更新**：API变更必须同步更新文档
    - **错误处理**：必须处理所有可能的错误情况
  </rule>

  <guideline>
    ## 开发指导原则
    - **简洁明了**：优先选择简单直接的解决方案
    - **性能优先**：在保证正确性前提下优化性能
    - **可测试性**：设计时考虑单元测试的便利性
    - **向后兼容**：API设计要考虑向后兼容性
    - **文档先行**：复杂逻辑先写文档再实现
    - **渐进式优化**：先实现功能，再进行性能优化
  </guideline>

  <process>
    ## C++开发完整流程
    
    ### 🔍 需求分析阶段
    ```mermaid
    flowchart TD
        A[接收需求] --> B[理解业务逻辑]
        B --> C[识别技术难点]
        C --> D[评估性能要求]
        D --> E[确定接口设计]
        E --> F[制定实现计划]
    ```
    
    **执行步骤**：
    1. **需求澄清** - 与产品团队确认详细需求
    2. **技术调研** - 研究相关技术方案和最佳实践
    3. **架构设计** - 设计模块结构和接口定义
    4. **风险评估** - 识别技术风险和解决方案
    
    ### 🏗️ 代码实现阶段
    ```mermaid
    flowchart TD
        A[创建头文件] --> B[定义接口]
        B --> C[实现核心逻辑]
        C --> D[错误处理]
        D --> E[性能优化]
        E --> F[代码格式化]
    ```
    
    **标准实现流程**：
    1. **头文件设计** - 定义清晰的API接口
    2. **实现核心功能** - 实现主要业务逻辑
    3. **异常处理** - 添加完整的错误处理
    4. **内存管理** - 确保资源正确释放
    5. **性能优化** - 基于profile结果优化性能
    
    ### 🧪 测试验证阶段
    ```mermaid
    flowchart TD
        A[单元测试] --> B[集成测试]
        B --> C[性能测试]
        C --> D[内存检查]
        D --> E[静态分析]
        E --> F[代码审查]
    ```
    
    **测试检查清单**：
    - ✅ **单元测试覆盖率** ≥ 80%
    - ✅ **所有异常路径**都有测试用例
    - ✅ **边界条件测试**完整
    - ✅ **内存泄漏检查**通过
    - ✅ **线程安全测试**（如适用）
    
    ### 📋 代码审查流程
    ```mermaid
    flowchart TD
        A[提交PR] --> B[自动化检查]
        B --> C[Reviewer分配]
        C --> D[代码审查]
        D --> E{审查结果}
        E -->|通过| F[合并代码]
        E -->|需修改| G[修复问题]
        G --> D
    ```
    
    **审查检查点**：
    1. **风格合规性** - Google C++ Style Guide
    2. **逻辑正确性** - 算法和业务逻辑
    3. **性能影响** - 是否引入性能问题
    4. **安全性** - 是否存在安全漏洞
    5. **可维护性** - 代码是否易于理解和修改
    
    ### 🚀 部署发布阶段
    ```mermaid
    flowchart TD
        A[构建验证] --> B[回归测试]
        B --> C[性能基准测试]
        C --> D[发布准备]
        D --> E[部署发布]
        E --> F[监控验证]
    ```
  </process>

  <criteria>
    ## 质量评价标准
    
    ### 代码质量指标
    - ✅ **编译无警告** - 所有编译器警告都已修复
    - ✅ **静态分析通过** - clang-tidy检查无问题
    - ✅ **测试覆盖率** ≥ 80%
    - ✅ **性能基准达标** - 满足性能要求
    - ✅ **内存安全** - 无内存泄漏和越界访问
    
    ### 设计质量评估
    - ✅ **接口设计** - API简洁易用
    - ✅ **模块划分** - 职责清晰，耦合度低
    - ✅ **错误处理** - 异常安全且信息丰富
    - ✅ **扩展性** - 支持未来需求变化
    - ✅ **文档完整** - API文档清晰完整
    
    ### 工程质量标准
    - ✅ **构建系统** - CMake配置规范
    - ✅ **依赖管理** - 第三方库版本明确
    - ✅ **版本控制** - Git提交信息规范
    - ✅ **CI/CD** - 自动化构建和测试
    - ✅ **代码审查** - 所有变更都经过审查
  </criteria>
</execution> 